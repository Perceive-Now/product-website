import { SVGProps } from "react";
import { motion } from "framer-motion";

interface LiquidSphereLoaderProps extends SVGProps<SVGSVGElement> {
  liquidHeight: number; // Height of the liquid, from 0 to 100
}

const LiquidSphereLoaderIcon: React.FC<LiquidSphereLoaderProps> = ({
  liquidHeight,
  ...props
}: LiquidSphereLoaderProps) => {
  // Calculate the actual y position based on liquidHeight percentage
  const calculateYPosition = (height: number) => {
    return `${160 - (height / 100) * 160}`;
  };

  return (
    <svg viewBox="0 0 164 164" fill="none" xmlns="http://www.w3.org/2000/svg" {...props}>
      <g id="sphere">
        <g clipPath="url(#clip0_1_46)">
          <rect x={2} y={2} width={160} height={160} rx={80} fill="url(#paint0_linear_1_46)" />
          {/* First wave */}
          <motion.g
            id="first"
            style={{
              mixBlendMode: "multiply",
            }}
            animate={{
              y: calculateYPosition(liquidHeight),
              x: [0, -20, 0], // Horizontal motion from 0 to -20 and back to 0
            }}
          >
            <motion.path
              d="M361 18.1454C353.357 19.5742 345.509 21.5782 337.3 24.1053C323.563 28.3335 309.827 32.5617 296.09 33.5144C283.487 34.3885 269.124 30.1505 252.179 25.1507C230.806 18.8444 205.326 11.3262 174.09 11.3262C151.783 11.3262 132.65 16.4388 114.225 21.3622C86.3953 28.7986 60.1818 35.8032 27.0902 24.1053C-27.9098 4.66265 -62.4098 5.19956 -107.91 26.4625C-153.41 47.7254 -190.485 43.7537 -220.749 34.0776C-223.681 33.1405 -226.582 32.1583 -229.463 31.1832C-240.95 27.295 -252.106 23.5185 -263.499 23.1501C-279.468 22.5599 -295.437 27.9218 -311.406 33.2837C-323.938 37.4913 -336.469 41.6989 -349 43.0303C-364.849 44.7142 -380.697 41.7567 -396.546 38.7992C-409.197 36.4384 -421.849 34.0776 -434.5 34.0776C-447.665 34.0776 -460.83 36.6341 -473.995 39.1905C-489.33 42.1683 -504.665 45.1462 -520 44.0836C-533.736 43.1317 -547.473 38.9073 -561.209 34.6829C-575.973 30.1426 -590.736 25.6024 -605.5 25.125C-627.3 24.3193 -646.122 28.7266 -664.899 33.1232C-687.988 38.5295 -711.007 43.9196 -739.409 39.5808C-754.759 37.236 -769.434 33.4467 -783.913 29.7079C-818.454 20.789 -851.883 12.1571 -890.7 24.1053C-904.437 28.3335 -918.173 32.5617 -931.91 33.5144C-947.245 34.5779 -962.58 31.5974 -977.915 28.6169C-1005.51 23.2545 -1027.71 23.0608 -1055.36 28.2253C-1071.21 31.1855 -1087.06 34.1456 -1102.91 32.4602C-1115.44 31.1276 -1127.97 26.9162 -1140.5 22.7049C-1174.94 11.1315 -1197.41 11.093 -1231.16 23.4995C-1234.27 24.6418 -1237.49 25.9191 -1240.79 27.2229C-1252.6 31.8976 -1265.27 36.9135 -1276.41 37.2741C-1360.99 37.2741 -1360.96 39.0645 -1359.76 124.567C-1359.59 136.117 -1359.41 149.194 -1359.41 164L361 164V18.1454Z"
              fill="#5C1FC4"
              initial={{ y: 160, x: 0 }}
              transition={{
                duration: 1,
                ease: "easeInOut",
                repeat: Infinity,
                repeatType: "reverse",
              }}
            />
          </motion.g>

          {/* Second wave */}
          <motion.g
            id="second"
            style={{
              mixBlendMode: "multiply",
            }}
            animate={{
              y: calculateYPosition(liquidHeight),
              x: [0, 20, 0], // Horizontal motion from 0 to 20 and back to 0
            }}
          >
            <motion.path
              d="M-53 18.1454C-45.3568 19.5742 -37.5094 21.5782 -29.2997 24.1053C-15.5632 28.3335 -1.82678 32.5617 11.9098 33.5144C24.5128 34.3885 38.876 30.1505 55.8207 25.1507C77.1937 18.8444 102.674 11.3262 133.91 11.3262C156.217 11.3262 175.35 16.4388 193.775 21.3622C221.605 28.7986 247.818 35.8032 280.91 24.1053C335.91 4.66265 370.41 5.19956 415.91 26.4625C461.41 47.7254 498.485 43.7537 528.749 34.0776C531.681 33.1405 534.582 32.1583 537.463 31.1832C548.95 27.295 560.106 23.5185 571.499 23.1501C587.468 22.5599 603.437 27.9218 619.406 33.2837C631.938 37.4913 644.469 41.6989 657 43.0303C672.849 44.7142 688.697 41.7567 704.546 38.7992C717.197 36.4384 729.849 34.0776 742.5 34.0776C755.665 34.0776 768.83 36.6341 781.995 39.1905C797.33 42.1683 812.665 45.1462 828 44.0836C841.736 43.1317 855.473 38.9073 869.209 34.6829C883.973 30.1426 898.736 25.6024 913.5 25.125C935.3 24.3193 954.122 28.7266 972.899 33.1232C995.988 38.5295 1019.01 43.9196 1047.41 39.5808C1062.76 37.236 1077.43 33.4467 1091.91 29.7079C1126.45 20.789 1159.88 12.1571 1198.7 24.1053C1212.44 28.3335 1226.17 32.5617 1239.91 33.5144C1255.24 34.5779 1270.58 31.5974 1285.91 28.6169C1313.51 23.2545 1335.71 23.0608 1363.36 28.2253C1379.21 31.1855 1395.06 34.1456 1410.91 32.4602C1423.44 31.1276 1435.97 26.9162 1448.5 22.7049C1482.94 11.1315 1505.41 11.093 1539.16 23.4995C1542.27 24.6418 1545.49 25.9191 1548.79 27.2229C1560.6 31.8976 1573.27 36.9135 1584.41 37.2741C1668.99 37.2741 1668.96 39.0645 1667.76 124.567C1667.59 136.117 1667.41 149.194 1667.41 164L-53 164V18.1454Z"
              fill="#B6A2D8"
              initial={{ y: 160, x: 0 }}
              transition={{
                duration: 1.2,
                ease: "easeInOut",
                repeat: Infinity,
                repeatType: "reverse",
              }}
            />
          </motion.g>

          {/* Third wave */}
          <motion.g
            id="third"
            style={{
              mixBlendMode: "multiply",
            }}
            animate={{
              y: calculateYPosition(liquidHeight),
              x: [0, -15, 0], // Horizontal motion from 0 to -15 and back to 0
            }}
          >
            <motion.path
              d="M-96 18.1454C-88.3568 19.5742 -80.5094 21.5782 -72.2997 24.1053C-58.5632 28.3335 -44.8268 32.5617 -31.0902 33.5144C-18.4872 34.3885 -4.12402 30.1505 12.8207 25.1507C34.1937 18.8444 59.674 11.3262 90.9098 11.3262C113.217 11.3262 132.35 16.4388 150.775 21.3622C178.605 28.7986 204.818 35.8032 237.91 24.1053C292.91 4.66265 327.41 5.19956 372.91 26.4625C418.41 47.7254 455.485 43.7537 485.749 34.0776C488.681 33.1405 491.582 32.1583 494.463 31.1832C505.95 27.295 517.106 23.5185 528.499 23.1501C544.468 22.5599 560.437 27.9218 576.406 33.2837C588.938 37.4913 601.469 41.6989 614 43.0303C629.849 44.7142 645.697 41.7567 661.546 38.7992C674.197 36.4384 686.849 34.0776 699.5 34.0776C712.665 34.0776 725.83 36.6341 738.995 39.1905C754.33 42.1683 769.665 45.1462 785 44.0836C798.736 43.1317 812.473 38.9073 826.209 34.6829C840.973 30.1426 855.736 25.6024 870.5 25.125C892.3 24.3193 911.122 28.7266 929.899 33.1232C952.988 38.5295 976.007 43.9196 1004.41 39.5808C1019.76 37.236 1034.43 33.4467 1048.91 29.7079C1083.45 20.789 1116.88 12.1571 1155.7 24.1053C1169.44 28.3335 1183.17 32.5617 1196.91 33.5144C1212.24 34.5779 1227.58 31.5974 1242.91 28.6169C1270.51 23.2545 1292.71 23.0608 1320.36 28.2253C1336.21 31.1855 1352.06 34.1456 1367.91 32.4602C1380.44 31.1276 1392.97 26.9162 1405.5 22.7049C1439.94 11.1315 1462.41 11.093 1496.16 23.4995C1499.27 24.6418 1502.49 25.9191 1505.79 27.2229C1517.6 31.8976 1530.27 36.9135 1541.41 37.2741C1625.99 37.2741 1625.96 39.0645 1624.76 124.567C1624.59 136.117 1624.41 149.194 1624.41 164L-96 164V18.1454Z"
              fill="#E1D5F2"
              initial={{ y: 160, x: 0 }}
              transition={{
                duration: 0.8,
                ease: "easeInOut",
                repeat: Infinity,
                repeatType: "reverse",
              }}
            />
          </motion.g>
        </g>
        <rect x={2} y={2} width={160} height={160} rx={80} stroke="#F7F5FF" strokeWidth={3} />
      </g>
      <defs>
        <linearGradient
          id="paint0_linear_1_46"
          x1={82}
          y1={145.5}
          x2={82}
          y2={9.99999}
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#B3B3B3" />
          <stop offset={1} stopColor="white" />
        </linearGradient>
        <clipPath id="clip0_1_46">
          <rect x={2} y={2} width={160} height={160} rx={80} fill="white" />
        </clipPath>
      </defs>
    </svg>
  );
};

export default LiquidSphereLoaderIcon;
